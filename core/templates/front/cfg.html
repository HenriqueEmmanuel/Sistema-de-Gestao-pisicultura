
<style>
    .content {
        padding: 2rem;
        font-family: 'Poppins', sans-serif;
        color: #222d39;
    }

    .content h2 {
        font-weight: 700;
        font-size: 2rem;
        color: #173753;
        border-bottom: 3px solid #2a9df4;
        padding-bottom: 0.75rem;
        margin-bottom: 2.5rem;
        user-select: none;
    }

    .card.section {
        background: #ffffff;
        border-radius: 12px;
        box-shadow: 0 8px 15px rgb(0 0 0 / 0.07);
        padding: 2rem 2.5rem;
        transition: transform 0.25s ease, box-shadow 0.25s ease;
    }

    .card.section:hover {
        box-shadow: 0 15px 35px rgb(0 0 0 / 0.12);
        transform: translateY(-4px);
    }

    .card.section h5 {
        color: #276ef1;
        font-weight: 600;
        margin-bottom: 1.6rem;
        user-select: none;
    }

    .card.section label {
        display: block;
        font-weight: 600;
        margin-bottom: 0.4rem;
        margin-top: 1.3rem;
        color: #1e2a44;
        user-select: none;
    }

    .card.section input.form-control,
    .card.section select.form-select {
        width: 100%;
        border: 2px solid #dfe7f5;
        border-radius: 10px;
        padding: 0.55rem 1rem;
        font-size: 1rem;
        color: #1e2a44;
        background-color: #f9fbff;
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
        box-shadow: inset 0 1px 3px rgb(31 38 135 / 0.1);
    }

    .card.section input.form-control::placeholder {
        color: #a9b2c3;
        font-style: italic;
    }

    .card.section input.form-control:focus,
    .card.section select.form-select:focus {
        border-color: #1976d2;
        outline: none;
        box-shadow: 0 0 8px rgb(25 118 210 / 0.35);
    }

    .form-check.form-switch {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        margin-top: 1rem;
        margin-bottom: 1.25rem;
    }

    .form-check-input {
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        width: 46px;
        height: 26px;
        background: #dde3f3;
        border-radius: 13px;
        position: relative;
        cursor: pointer;
        outline: none;
        transition: background-color 0.3s ease;
        box-shadow: inset 0 2px 7px rgb(0 0 0 / 0.07);
    }

    .form-check-input:checked {
        background: #1976d2;
        box-shadow: inset 0 2px 12px rgb(25 118 210 / 0.7);
    }

    /* O c√≠rculo do toggle */
    .form-check-input::before {
        content: "";
        position: absolute;
        top: 3px;
        left: 3px;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #fff;
        transition: transform 0.3s ease;
        box-shadow: 0 1px 3px rgb(0 0 0 / 0.3);
    }

    .form-check-input:checked::before {
        transform: translateX(20px);
    }

    .form-check-label {
        font-weight: 600;
        color: #1a2533;
        user-select: none;
    }

    .texto-pequeno {
        font-size: 0.85rem;
        color: #4b5d76;
        margin-top: -1rem;
        margin-bottom: 1rem;
        user-select: none;
    }

    .btn {
        font-weight: 700;
        border-radius: 12px;
        padding: 0.7rem 1.5rem;
        font-size: 1rem;
        letter-spacing: 0.02em;
        transition: background-color 0.3s, box-shadow 0.3s;
        cursor: pointer;
        border: none;
        user-select: none;
    }

    .btn-primary {
        background: #276ef1;
        color: white;
        box-shadow: 0 5px 15px rgb(39 110 241 / 0.3);
    }

    .btn-primary:hover {
        background: #1e56c7;
        box-shadow: 0 5px 15px rgb(30 86 199 / 0.5);
    }

    .btn-outline-primary {
        background: transparent;
        border: 2px solid #276ef1;
        color: #276ef1;
    }

    .btn-outline-primary:hover {
        background: #276ef1;
        color: white;
    }

    .btn-outline-secondary {
        background: transparent;
        border: 2px solid #abb9cc;
        color: #556677;
    }

    .btn-outline-secondary:hover {
        background: #8fa6bf;
        border-color: #7c93b5;
        color: white;
    }

    .card.section button+button {
        margin-left: 1rem;
    }

    .row.mb-3>.col.text-end {
        margin-top: 2rem;
    }

    body.tema-escuro .card.section {
    background: #1e2a33; /* fundo escuro */
    color: #e0e0e0; /* texto claro */
    box-shadow: 0 8px 15px rgb(0 0 0 / 0.3);
}

body.tema-escuro .card.section h5 {
    color: #4dabf7; /* azul suave para t√≠tulos */
}

body.tema-escuro .card.section label {
    color: #cfd8dc;
}

body.tema-escuro .card.section input.form-control,
body.tema-escuro .card.section select.form-select {
    background-color: #2a3440;
    border: 2px solid #3e4a57;
    color: #ffffff;
}

body.tema-escuro .card.section input.form-control::placeholder {
    color: #9ba9b4;
}

body.tema-escuro .card.section input.form-control:focus,
body.tema-escuro .card.section select.form-select:focus {
    border-color: #4dabf7;
    box-shadow: 0 0 8px rgba(77, 171, 247, 0.4);
}

/* Ajuste para textos pequenos */
body.tema-escuro .texto-pequeno {
    color: #b0bec5;
}
    @media (max-width: 767px) {
        .card.section {
            padding: 1.5rem 1.8rem;
        }

        .form-check.form-switch {
            flex-direction: column;
            align-items: flex-start;
            gap: 0.25rem;
        }
    }
</style>
{% load static %}
<div class="content flex-grow-1 container-fluid">
  <h2 class="mb-4">Configura√ß√µes de Perfil</h2>

  <form id="form-configuracoes">
    {% csrf_token %}
    <div class="row">
      <!-- Informa√ß√µes do Usu√°rio -->
      <div class="col-md-6">
        <div class="card mb-3 section">
          <h5><i style='font-size:20px' class='fas'>&#xf406;</i> Informa√ß√µes do Usu√°rio</h5>

          <label for="nome"><strong>Nome:</strong></label>
          <input id="nome" name="nome" type="text" class="form-control" placeholder="Fulano da Silva"
                 value="{{ request.user.first_name|default:request.user.username }}">

          <label for="email"><strong>E-mail:</strong></label>
          <input id="email" name="email" type="email" class="form-control" placeholder="fulano@gmail.com"
                 value="{{ request.user.email }}">

          <label for="telefone"><strong>Telefone:</strong></label>
          <input id="telefone" name="telefone" type="tel" class="form-control" placeholder="(99) 99999-9999"
                 value="{{ request.user.telefone|default:'' }}">
        </div>
      </div>
      <br>
      
      <!-- Informa√ß√µes da Fazenda -->
      <div class="col-md-6">
        <div class="card mb-3 section">
          <h5>‚ûï Informa√ß√µes da Fazenda</h5>

          <label for="nome_fazenda"><strong>Nome da Fazenda:</strong></label>
          <input id="nome_fazenda" name="nome_fazenda" type="text" class="form-control" value="{{ request.user.nome_fazenda|default:request.user.nome_fazenda }}">

          <label for="endereco_fazenda"><strong>Endere√ßo:</strong></label>
          <input id="endereco_fazenda" name="endereco_fazenda" type="text" class="form-control" value="{{ request.user.endereco_fazenda|default:'' }}">

          <label for="cidade"><strong>Cidade:</strong></label>
          <input id="cidade" name="cidade" type="text" class="form-control" value="{{ request.user.cidade|default:'' }}">

          <label for="estado"><strong>Estado:</strong></label>
          <input id="estado" name="estado" type="text" class="form-control" value="{{ request.user.estado|default:'' }}">
        </div>
      </div>
    </div>
<br>

    <div class="row">
      <!-- Notifica√ß√µes -->
      <div class="col-md-6">
        <div class="card mb-3 section">
          <h5>üîî Notifica√ß√µes</h5>

          <div class="form-check form-switch mb-2">
      <label class="form-check-label" for="notificacoes_push"><strong>Notifica√ß√µes SMS</strong></label>
      <input id="notificacoes_push" name="notificacoes_push" class="form-check-input" type="checkbox" {% if user.notificacoes_push %}checked{% endif %}>
      <p class="texto-pequeno">Receber alertas pro SMS</p>
    </div>

    <div class="form-check form-switch mb-2">
      <label class="form-check-label" for="notificacoes_email"><strong>Notifica√ß√µes por Email</strong></label>
      <input id="notificacoes_email" name="notificacoes_email" class="form-check-input" type="checkbox" {% if user.notificacoes_email %}checked{% endif %}>
      <p class="texto-pequeno">Receber alertas por email</p>
    </div>

    <div class="form-check form-switch mb-2">
      <label class="form-check-label" for="alerta_agua"><strong>Alertas de Qualidade da √Ågua</strong></label>
      <input id="alerta_agua" name="alerta_agua" class="form-check-input" type="checkbox" {% if user.alertas_agua %}checked{% endif %}>
      <p class="texto-pequeno">Avisos quando par√¢metros est√£o fora do ideal</p>
    </div>

        
      </div>
<br>

     


    <div class="row mb-3">
      <div class="col text-end">
        <button id="salvar-configuracoes" class="btn btn-primary">Salvar</button>

      </div>
    </div>
  </form>
</div>
<script src="{% static 'js/cfg.js' %}" data-dinamico></script>
<script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
